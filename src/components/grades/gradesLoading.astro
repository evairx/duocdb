---
const STATS_CARDS_COUNT = 4;
const TABLE_ROWS_COUNT = 5;
const SEMESTERS_COUNT = 3;
---

<div class="space-y-6 mt-[3rem]">
  <div class="flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0">
    <div>
      <div class="h-8 w-64 mb-2 bg-zinc-200 rounded-md animate-pulse"></div>
      <div class="h-5 w-80 bg-zinc-200 rounded-md animate-pulse"></div>
    </div>
    <div class="w-full md:w-64">
      <div class="h-10 w-full bg-zinc-200 rounded-md animate-pulse"></div>
    </div>
  </div>

  <div class="w-full">
    <div class="grid w-full grid-cols-2 bg-zinc-100 rounded-t-lg overflow-hidden">
      {Array.from({ length: 2 }).map((_, i) => (
        <div class="h-7 m-1 bg-zinc-200 rounded-md animate-pulse"></div>
      ))}
    </div>

    <div class="mt-4">
      <div class="grid gap-6 md:grid-cols-4">
        {Array.from({ length: STATS_CARDS_COUNT }).map((_, i) => (
          <div class="rounded-lg border p-4 bg-white shadow-sm mt-2">
            <div class="h-5 w-32 bg-zinc-200 rounded-md animate-pulse"></div>
            <div class="h-5 w-20 mt-3 bg-zinc-200 rounded-md animate-pulse"></div>
            <div class="h-4 w-36 mt-3 bg-zinc-200 rounded-md animate-pulse"></div>
          </div>
        ))}
      </div>


      <div class="rounded-lg border overflow-hidden mt-6">
        <table class="w-full">
          <caption class="py-4">
            <div class="h-6 w-64 mx-auto bg-zinc-200 rounded-md animate-pulse"></div>
          </caption>
          <thead class="bg-zinc-100">
            <tr>
              <th class="h-12 px-4 text-left align-middle font-bold text-muted-foreground w-[350px]">Asignatura</th>
              <th class="h-12 px-4 text-left align-middle font-bold text-muted-foreground w-[250px]">CÃ³digo</th>
              <th class="h-12 px-4 text-left align-middle font-bold text-muted-foreground w-[250px]">Estado</th>
              <th class="h-12 px-4 text-left align-middle font-bold text-muted-foreground w-[250px]">Obligatorio</th>
              <th class="h-12 px-4 text-right align-middle font-bold text-muted-foreground">Nota Final</th>
            </tr>
          </thead>
          <tbody>
            {Array.from({ length: TABLE_ROWS_COUNT }).map((_, i) => (
              <tr class="animate-pulse" style={`animation-delay: ${i * 0.05}s`}>
                <td class="px-4"><div class="h-4 w-[80%] bg-zinc-200 rounded-md animate-pulse"></div></td>
                <td class="px-4"><div class="h-4 w-16 bg-zinc-200 rounded-md animate-pulse"></div></td>
                <td class="px-4"><div class="h-6 w-24 bg-zinc-200 rounded-md animate-pulse"></div></td>
                <td class="px-4"><div class="h-4 w-8 bg-zinc-200 rounded-md animate-pulse"></div></td>
                <td class="text-right px-4"><div class="h-4 w-8 ml-auto bg-zinc-200 rounded-md animate-pulse"></div></td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>

    <div class="hidden mt-4">
      <div class="grid gap-6 md:grid-cols-4">
        {Array.from({ length: STATS_CARDS_COUNT }).map((_, i) => (
          <div class="rounded-lg border p-4 bg-white shadow-sm mt-2">
            <div class="h-5 w-32 bg-zinc-200 rounded-md animate-pulse"></div>
            <div class="h-5 w-20 mt-3 bg-zinc-200 rounded-md animate-pulse"></div>
            <div class="h-4 w-36 mt-3 bg-zinc-200 rounded-md animate-pulse"></div>
          </div>
        ))}
      </div>
      
      {Array.from({ length: SEMESTERS_COUNT }).map((_, semesterIndex) => (
        <div class="rounded-lg border overflow-hidden mt-6">
          <div class="p-4 bg-zinc-100">
            <div class="h-6 w-64 bg-zinc-200 rounded-md animate-pulse"></div>
          </div>
          <div class="p-4 space-y-4">
            {Array.from({ length: 3 }).map((_, rowIndex) => (
              <div class="grid grid-cols-5 gap-4">
                {Array.from({ length: 5 }).map((_, cellIndex) => (
                  <div
                    class="h-5 bg-zinc-200 rounded-md animate-pulse"
                    style={`animation-delay: ${(semesterIndex * 15 + rowIndex * 5 + cellIndex) * 0.03}s`}
                  ></div>
                ))}
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</div>

<style is:global>
  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
</style>